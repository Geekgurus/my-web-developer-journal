server {
  listen 80;
  server_name w3.eq8.eu;

  location ~* /tils/40 {
    return 301 https://blog.eq8.eu/til/connect-ruby-on-rails-app-to-azure-cosmosdb-with-mongoid-gem.html;
  }

  location ~* /tils/39 {
    return 301 https://blog.eq8.eu/til/find-duplicate-email-records-with-rails.html;
  }

  location ~* /tils/38 {
    return 301 https://blog.eq8.eu/til/elastic-search-total-count.html;
  }

  location ~* /tils/37 {
    return 301 https://blog.eq8.eu/til/change-memory-size-for-elasticsearch-jvm-heap.html;
  }

  location ~* /tils/36 {
    return 301 https://blog.eq8.eu/til/elastic-beanstalk-docker-using-aws-ec2-container-registry-ecr.html;
  }

  location ~* /tils/35 {
    return 301 https://blog.eq8.eu/til/how-to-get-current-enviroment-name-in-phoenix-elixir.html;
  }

  location ~* /tils/34 {
    return 301 https://blog.eq8.eu/til/ako-opravit-flyxbox-od-orange;
  }

  location ~* /tils/33 {
    return 301 https://blog.eq8.eu/til/web-neutrality-based-on-ip-location.html;
  }

  location ~* /tils/32 {
    return 301 https://blog.eq8.eu/til/how-to-reload-iex-with-a-new-code.html;
  }

  location ~* /tils/31 {
    return 301 https://blog.eq8.eu/til/configure-aws-lambda-to-alter-security-groups.html;
  }


  location ~* /tils/30 {
    return 301 https://blog.eq8.eu/til/tell-activejob-to-perform_later-as-perform_now-in-test-or-spec.html;
  }

  location ~* /tils/29 {
    return 301 https://blog.eq8.eu/til/selecting-value-from-list-of-tuples-elixir.html;
  }

  location ~* /tils/28 {
    return 301 https://blog.eq8.eu/til/exclude-tags-when-running-exunit-tests.html;
  }

  location ~* /tils/27 {
    return 301 https://blog.eq8.eu/til/aws-s3-datetime-format-to-ecto.html;
  }

  location ~* /tils/26 {
    return 301 https://blog.eq8.eu/til/datetime-formating-options.html;
  }

  location ~* /tils/25 {
    return 301 https://blog.eq8.eu/til/phoenix-increase-timeout-when-debugging-with-iexpry-in-exunit.html;
  }

  location ~* /tils/24 {
    return 301 https://blog.eq8.eu/til/how-to-debug-phoenix-elixir-application.html;
  }

  location ~* /tils/23 {
    return 301 https://blog.eq8.eu/til/send-files-of-server.html;
  }

  location ~* /tils/22 {
    return 301 https://blog.eq8.eu/til/raspberry-pi-cifs-mount-on-boot.html;
  }

  location ~* /tils/21 {
    return 301 https://blog.eq8.eu/til/elixir-update-struct-value.html;
  }

  location ~* /tils/20 {
    return 301 https://blog.eq8.eu/til/ecto-get-last-record.html;
  }

  location ~* /tils/19 {
    return 301 https://blog.eq8.eu/til/exunit-wait-for-genserver-cast.html;
  }

  location ~* /tils/18 {
    return 301 https://blog.eq8.eu/til/removing-old-remote-branches-in-bulk.html;
  }

  location ~* /tils/17 {
    return 301 https://blog.eq8.eu/til/ubuntu-14-04-ruby-rails-c-dependancy-solution.html;
  }

  location ~* /tils/16 {
    return 301 https://blog.eq8.eu/til/rails-log-only-partials.html;
  }

  location ~* /tils/15 {
    return 301 https://blog.eq8.eu/til/capybara-matchers-in-rspec.html;
  }

  location ~* /tils/14 {
    return 301 https://blog.eq8.eu/til/error-hint-mysql-gem.html;
  }

  location ~* /tils/13 {
    return 301 https://blog.eq8.eu/til/use-rails-delegate-lib-only.html;
  }

  location ~* /tils/12 {
    return 301 https://blog.eq8.eu/til/run-multiple-times-rspec-on-same-machine.html;
  }

  location ~* /tils/11 {
    return 301 https://blog.eq8.eu/til/override-default-rake-task-of-rails.html;
  }

  location ~* /tils/10 {
    return 301 https://blog.eq8.eu/til/carrierwave-uploader-not-processing-in-rspec.html;
  }

  location ~* /tils/09- {
    return 301 https://blog.eq8.eu/til/troubles-with-encoding.html;
  }

  location ~* /tils/9- {
    return 301 https://blog.eq8.eu/til/troubles-with-encoding.html;
  }

  location = /tils/9 {
    return 301 https://blog.eq8.eu/til/troubles-with-encoding.html;
  }

  location ~* /tils/08- {
    return 301 https://blog.eq8.eu/til/free-up-space-on-your-linux-server.html;
  }

  location ~* /tils/8- {
    return 301 https://blog.eq8.eu/til/free-up-space-on-your-linux-server.html;
  }

  location = /tils/8 {
    return 301 https://blog.eq8.eu/til/free-up-space-on-your-linux-server.html;
  }

  location ~* /tils/07- {
    return 301 https://blog.eq8.eu/til/force-ssl-nginx-infinite-loop.html;
  }

  location ~* /tils/7- {
    return 301 https://blog.eq8.eu/til/force-ssl-nginx-infinite-loop.html;
  }

  location = /tils/7 {
    return 301 https://blog.eq8.eu/til/force-ssl-nginx-infinite-loop.html;
  }

  location ~* /tils/06- {
    return 301 https://blog.eq8.eu/til/rack-test-change-default-host.html;
  }

  location ~* /tils/6- {
    return 301 https://blog.eq8.eu/til/rack-test-change-default-host.html;
  }

  location = /tils/6 {
    return 301 https://blog.eq8.eu/til/rack-test-change-default-host.html;
  }

  location ~* /tils/05- {
    return 301 https://blog.eq8.eu/til/fetch-amazon-s3-backup-from-console.html;
  }

  location ~* /tils/5- {
    return 301 https://blog.eq8.eu/til/fetch-amazon-s3-backup-from-console.html;
  }

  location = /tils/5 {
    return 301 https://blog.eq8.eu/til/fetch-amazon-s3-backup-from-console.html;
  }

  location ~* /tils/04- {
    return 301 https://blog.eq8.eu/til/yield-returning-zero-0.html;
  }

  location ~* /tils/4- {
    return 301 https://blog.eq8.eu/til/yield-returning-zero-0.html;
  }

  location = /tils/4 {
    return 301 https://blog.eq8.eu/til/yield-returning-zero-0.html;
  }

  location ~* /tils/03- {
    return 301 https://blog.eq8.eu/til/rails-deliver-mail-to-file.html;
  }

  location ~* /tils/3- {
    return 301 https://blog.eq8.eu/til/rails-deliver-mail-to-file.html;
  }

  location = /tils/3 {
    return 301 https://blog.eq8.eu/til/rails-deliver-mail-to-file.html;
  }

  location ~* /tils/02- {
    return 301 https://blog.eq8.eu/til/make-private-method-public-in-ruby.html;
  }

  location ~* /tils/2- {
    return 301 https://blog.eq8.eu/til/make-private-method-public-in-ruby.html;
  }

  location = /tils/2 {
    return 301 https://blog.eq8.eu/til/make-private-method-public-in-ruby.html;
  }

  location ~* /tils/01- {
    return 301 https://blog.eq8.eu/til/no-database-connection-in-rails-console.html;
  }

  location ~* /tils/1- {
    return 301 https://blog.eq8.eu/til/no-database-connection-in-rails-console.html;
  }

  location = /tils/1 {
    return 301 https://blog.eq8.eu/til/no-database-connection-in-rails-console.html;
  }


  location ~* /tils {
    return 301 https://blog.eq8.eu/til;
  }

  location ~* /til {
    return 301 https://blog.eq8.eu/til;
  }


  root /var/www/profile;
}

# curvytron
server {
  listen 80;
  location / {
    proxy_pass http://127.0.0.1:8080;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
  }

  root /var/www/html;
  # Add index.php to the list if you are using PHP
  index index.html index.htm index.nginx-debian.html;

  server_name _;
}
